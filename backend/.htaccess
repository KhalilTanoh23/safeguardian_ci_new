<IfModule mod_rewrite.c>
    RewriteEngine On
    
    # Traiter les requêtes pour des fichiers/répertoires existants normalement
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]
    
    # Router toutes les autres requêtes
    RewriteRule ^ routes/api.php [QSA,L]
</IfModule>

# Sécurité - masquer le fichier PHP
<FilesMatch "\.php$">
    Order Deny,Allow
    Deny from all
    Allow from 127.0.0.1
    Allow from ::1
</FilesMatch>

# Permettre l'accès au fichier api.php
<Files "routes/api.php">
    Order Allow,Deny
    Allow from all
</Files>
